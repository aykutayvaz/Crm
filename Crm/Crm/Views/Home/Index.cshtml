@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Home/_Layout.cshtml";
}




@model List<Crm.Models.DefectView>


<script>
    $(function ($) {
        $(".Logout").click(function () {
            var url=location.origin + "/Login/Logout";
            $.post(url, function (data) {
                var parsedJSON = JSON.parse(data);
                if (parsedJSON.success == "success") {
                    alert(parsedJSON.message);
                }
                else {
                    alert(parsedJSON.message);
                }
                //alert(data);
            });
            setTimeout(function () {
                window.location.href = location.origin + "/Login/Index";
            }, 1000);
        });
      
    });

    var jq = $.noConflict();

    jq(function () {
        jq("#DataTable").DataTable();
    });

</script>


<style>
    .projelink {
        color:#0028ff;
        font-weight:bold;
    }
</style>

<div class="col-md-12 col-sm-12 col-xs-12">
<div class="dashboard_graph">

<div class="row x_title">
    <div class="col-md-6">
    <h3>Arızalar <small>@*Graph title sub-title*@</small></h3>
    </div>
    <div class="col-md-6">
    <div id="reportrange" class="pull-right" style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc">
        <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>
        <span>December 30, 2014 - January 28, 2015</span> <b class="caret"></b>
    </div>
    </div>
</div>

<div class="col-md-12 col-sm-12 col-xs-12">
     <div id="placeholder33" style="height: 260px; display: none" class="demo-placeholder"></div>
            <div style="width: 100%;">
                        
       <div class="ProjectRecordsGrid">
         <table id="DataTable" class="table table-striped table-bordered dataTable no-footer" role="grid" aria-describedby="datatable_info">
            <thead>
            <tr role="row">
                <th class="sorting_asc" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 70px;">ArızaNo</th>
                <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 70px;">Arıza Durumu</th>
                <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 100px;">Arıza Notu</th>
                <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-label="Office: activate to sort column ascending" style="width: 202px;">Kayıt Tarihi</th>
                <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-label="Age: activate to sort column ascending" style="width: 111px;">Proje</th>
                <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 196px;">SikayetEden</th>
                <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 154px;">İletişim</th>
                <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 154px;">MüdahaleEden</th>
                <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 154px;">MüdahaleNotu</th>
                <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 154px;">MüdahaleTarihi</th>
            </tr>
            </thead>

            <tbody>
                @{
                    foreach (var item in Model)
                    {
                        <tr role="row" class="odd">

                            <td>@*<a href="#" class="arızalink">@item.ArızaID.ToString()</a>*@@item.ArızaID.ToString()</td>
                            <td>@item.ArızaDurumu.ToString()</td>
                            <td>@item.ArızaNot.ToString()</td>
                            <td>@item.KayıtTarihi.ToString()</td>
                            @{
                                if(item.ProjeId!=1)
                                {
                                    <td><a href="#" class="projelink" alt="@item.ProjeId"> @item.Projeİsmi.ToString()</a></td>
                                }
                                else
                                {
                                    <td>@item.Projeİsmi.ToString()</td>
                                }
                            }
                            <td>@item.SikayetEden</td>
                            <td>@item.SikayetEdenDetay.ToString()</td>
                            @{
                                if (item.MüdahaleEdenId != null)
                                {
                                        <td>@item.MüdahaleNotu.ToString()</td>
                                        <td><span class="müdahalekisi" alt="@item.MüdahaleEdenId">@item.MüdahaleEdenİsim</span></td>
                                        <td>@item.MüdahaleTarihi.ToString()</td>
                                }
                                else
                                {
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                }
                                }
                        </tr>
                    }   
                 }
           
            </tbody>
        </table>
                </div>
             
                      
            </div>
    </div>


    <div class="clearfix"></div>
    </div>
</div>
